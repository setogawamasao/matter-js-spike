{"version":3,"sources":["HamburgerMenu.js","Modal.js","Tapioca.js","QrCode.js","App.js","index.js"],"names":["HamburgerMenu","props","useState","isOpen","setIsOpen","type","className","onClick","id","htmlFor","addStraw","removeStraw","setBackgroundColor","color","backgroundColor","onChangeComplete","hex","setCupImage","Modal","isModalOpen","style","backgroundImage","position","borderRadius","setIsModalOpen","width","height","top","right","icon","faTimes","size","src","imageData","alt","display","justifyContent","marginTop","href","download","textDecoration","lineHeight","padding","marginRight","textAlign","Tapioca","cw","window","innerWidth","ch","innerHeight","scene","useRef","engine","Engine","create","world","current","isShowStraw","isPressed","cupImage","setImageData","document","body","gravity","x","accelerationX","y","accelerationY","straw","Bodies","rectangle","render","fillStyle","strawConstraint","Constraint","pointA","Vector","clone","bodyB","pointB","length","useEffect","Render","element","options","wireframes","background","mouse","Mouse","canvas","mouseConstraint","MouseConstraint","constraint","angularStiffness","visible","Composite","add","stack","Composites","circle","Common","random","mass","restitution","friction","frictionAir","sprite","texture","Math","floor","World","isStatic","Runner","run","stop","clear","remove","context","textures","target","getElementById","html2camvas","then","imgData","toDataURL","left","faCamera","onTouchStart","console","log","onTouchEnd","onTouchMove","e","margin","ref","bodies","pop","constraints","setModified","QrCode","App","isStart","setIsStart","setAccelerationX","setAccelerationY","isIOS","DeviceMotionEvent","requestPermission","permissionState","addEventListener","event","accelerationIncludingGravity","alert","catch","isAndroid","isWinPhone","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.73520547.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { SliderPicker } from \"react-color\";\r\n\r\nconst HamburgerMenu = (props) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const handleChangeComplete = (color) => {\r\n    props.setBackgroundColor(color.hex);\r\n  };\r\n  return (\r\n    <div>\r\n      <button\r\n        type=\"button\"\r\n        className={isOpen ? \"menu-trigger is-active\" : \"menu-trigger\"}\r\n        onClick={() => {\r\n          setIsOpen(!isOpen);\r\n        }}\r\n      >\r\n        <span></span>\r\n        <span></span>\r\n        <span></span>\r\n      </button>\r\n      <div className={isOpen ? \"menu is-active\" : \"menu\"}>\r\n        <div className=\"menu-header\">Menu</div>\r\n        <div className=\"acd-menu\">\r\n          <input type=\"checkbox\" id=\"menu_bar01\" className=\"acd-check\" />\r\n          <label htmlFor=\"menu_bar01\" className=\"acd-label\">\r\n            ストロー\r\n          </label>\r\n          <ul id=\"links01\">\r\n            <li onClick={props.addStraw}>\r\n              <button>刺す</button>\r\n            </li>\r\n            <li onClick={props.removeStraw}>\r\n              <button>外す</button>\r\n            </li>\r\n          </ul>\r\n          <input type=\"checkbox\" id=\"menu_bar02\" className=\"acd-check\" />\r\n          <label htmlFor=\"menu_bar02\" className=\"acd-label\">\r\n            味付け\r\n          </label>\r\n          <ul id=\"links02\">\r\n            <li\r\n              onClick={() => {\r\n                props.setBackgroundColor(\"#FFC0CB\");\r\n              }}\r\n            >\r\n              <button>イチゴミルク</button>\r\n            </li>\r\n            <li\r\n              onClick={() => {\r\n                props.setBackgroundColor(\"#E9ED88\");\r\n              }}\r\n            >\r\n              <button>抹茶</button>\r\n            </li>\r\n            <li\r\n              onClick={() => {\r\n                props.setBackgroundColor(\"#dcac65\");\r\n              }}\r\n            >\r\n              <button>ミルクティー</button>\r\n            </li>\r\n            <li>\r\n              <span>\r\n                お好み\r\n                <SliderPicker\r\n                  color={props.backgroundColor}\r\n                  onChangeComplete={handleChangeComplete}\r\n                />\r\n              </span>\r\n            </li>\r\n          </ul>\r\n          <input type=\"checkbox\" id=\"menu_bar03\" className=\"acd-check\" />\r\n          <label htmlFor=\"menu_bar03\" className=\"acd-label\">\r\n            パッケージ\r\n          </label>\r\n          <ul id=\"links03\">\r\n            <li onClick={() => props.setCupImage(\"logo.PNG\")}>\r\n              <button>サスタピ</button>\r\n            </li>\r\n            <li onClick={() => props.setCupImage(\"alley.png\")}>\r\n              <button>The array</button>\r\n            </li>\r\n            <li onClick={() => props.setCupImage(\"gongcha.png\")}>\r\n              <button>Cong tya</button>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HamburgerMenu;\r\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst Modal = (props) => {\r\n  return (\r\n    <>\r\n      {props.isModalOpen && (\r\n        <div id=\"overlay\">\r\n          <div\r\n            id=\"content\"\r\n            style={{\r\n              backgroundImage: \"url(sastapi_top_bg_dot.png)\",\r\n              backgroundColor: \"#ff2994\",\r\n              position: \"relative\",\r\n              borderRadius: \"20px\",\r\n            }}\r\n          >\r\n            <div\r\n              className=\"icon-circle\"\r\n              onClick={() => {\r\n                props.setIsModalOpen(false);\r\n              }}\r\n              style={{\r\n                width: \"30px\",\r\n                height: \"30px\",\r\n                position: \"absolute\",\r\n                top: \"1px\",\r\n                right: \"1px\",\r\n                backgroundColor: \"#ff2994\",\r\n              }}\r\n            >\r\n              <FontAwesomeIcon icon={faTimes} size={\"2x\"} className=\"icon\" />\r\n            </div>\r\n            <img\r\n              src={props.imageData}\r\n              alt=\"myTapioca\"\r\n              style={{ width: \"100%\", borderRadius: \"20px\" }}\r\n            />\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                marginTop: \"15px\",\r\n              }}\r\n            >\r\n              <a\r\n                href={props.imageData}\r\n                id=\"myTapioca\"\r\n                download=\"myTapioca.png\"\r\n                style={{\r\n                  width: \"100%\",\r\n                  backgroundColor: \"yellow\",\r\n                  color: \"red\",\r\n                  textDecoration: \"none\",\r\n                  lineHeight: \"28.45px\",\r\n                  padding: \"0 16px\",\r\n                  marginRight: \"8px\",\r\n                  textAlign: \"center\",\r\n                  borderRadius: \"20px\",\r\n                }}\r\n              >\r\n                保存\r\n              </a>\r\n              <a\r\n                style={{\r\n                  backgroundColor: \"#00acee\",\r\n                  width: \"100%\",\r\n                  textAlign: \"center\",\r\n                  lineHeight: \"24px\",\r\n                  display: \"flex\",\r\n                  justifyContent: \"center\",\r\n                  borderRadius: \"20px\",\r\n                }}\r\n                href={\r\n                  \"https://twitter.com/intent/tweet?text=\" +\r\n                  \"【バーチャル・タピオカ・アプリ】%0D%0A\" +\r\n                  \"物理エンジンと加速度センサーで実現！！%0D%0A\" +\r\n                  \"&hashtags=サステナブルタピオカ\" +\r\n                  \"&url=https://sustapi.com %0D%0A\"\r\n                }\r\n              >\r\n                <img\r\n                  src=\"2021 Twitter logo - white.png\"\r\n                  style={{ width: \"20px\", padding: \"6px 0\" }}\r\n                  alt=\"twitter\"\r\n                />\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  Runner,\r\n  Common,\r\n  Engine,\r\n  Render,\r\n  Bodies,\r\n  World,\r\n  Composites,\r\n  Constraint,\r\n  MouseConstraint,\r\n  Mouse,\r\n  Composite,\r\n  Vector,\r\n} from \"matter-js\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCamera } from \"@fortawesome/free-solid-svg-icons\";\r\nimport html2camvas from \"html2canvas\";\r\nimport HamburgerMenu from \"./HamburgerMenu.js\";\r\nimport Modal from \"./Modal.js\";\r\n\r\nconst Tapioca = (props) => {\r\n  const cw = window.innerWidth;\r\n  const ch = window.innerHeight;\r\n  const scene = useRef();\r\n  const engine = useRef(Engine.create());\r\n  const world = engine.current.world;\r\n  const isShowStraw = useRef(true);\r\n  const isPressed = useRef(false);\r\n\r\n  const [backgroundColor, setBackgroundColor] = useState(\"#dcac65\");\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [cupImage, setCupImage] = useState();\r\n  const [imageData, setImageData] = useState();\r\n\r\n  document.body.style = `background: ${backgroundColor}`;\r\n  engine.current.gravity.x = props.accelerationX;\r\n  engine.current.gravity.y = -props.accelerationY;\r\n\r\n  const straw = Bodies.rectangle(cw / 2, ch / 2, 40, ch, {\r\n    render: { fillStyle: \"#FF0000\" },\r\n  });\r\n  const strawConstraint = Constraint.create({\r\n    pointA: Vector.clone({\r\n      x: straw.position.x,\r\n      y: straw.position.y - (ch / 2) * 0.8,\r\n    }),\r\n    bodyB: straw,\r\n    pointB: { x: 0, y: (-ch / 2) * 0.8 },\r\n    length: 0,\r\n  });\r\n\r\n  const addStraw = (e) => {\r\n    if (isShowStraw.current) {\r\n      // show straw\r\n      Composite.add(world, [straw, strawConstraint]);\r\n      isShowStraw.current = false;\r\n    }\r\n  };\r\n\r\n  const removeStraw = (e) => {\r\n    if (!isShowStraw.current) {\r\n      // hide straw\r\n      world.bodies.pop();\r\n      world.constraints.pop();\r\n      Composite.setModified(world, true, true, false);\r\n      isShowStraw.current = true;\r\n    }\r\n  };\r\n\r\n  const capture = () => {\r\n    setIsModalOpen(true);\r\n    const target = document.getElementById(\"target\");\r\n    html2camvas(target).then((canvas) => {\r\n      const imgData = canvas.toDataURL();\r\n      setImageData(imgData);\r\n    });\r\n  };\r\n\r\n  const handleDown = () => {\r\n    console.log(\"down\");\r\n    isPressed.current = true;\r\n  };\r\n\r\n  const handleUp = () => {\r\n    console.log(\"up\");\r\n    isPressed.current = false;\r\n  };\r\n\r\n  const handleAddCircle = (e) => {\r\n    console.log(\"move\");\r\n    // if (isPressed.current) {\r\n    //   const ball = Bodies.circle(\r\n    //     e.changedTouches[0].pageX,\r\n    //     e.changedTouches[0].pageY,\r\n    //     10 + Math.random() * 30,\r\n    //     {\r\n    //       mass: 10,\r\n    //       restitution: 0.9,\r\n    //       friction: 0.005,\r\n    //       render: {\r\n    //         fillStyle: \"#0000ff\",\r\n    //       },\r\n    //     }\r\n    //   );\r\n    //   World.add(engine.current.world, [ball]);\r\n    // }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const render = Render.create({\r\n      element: scene.current,\r\n      engine: engine.current,\r\n      options: {\r\n        width: cw,\r\n        height: ch,\r\n        wireframes: false,\r\n        background: \"#transparent\",\r\n      },\r\n    });\r\n\r\n    const mouse = Mouse.create(render.canvas);\r\n    const mouseConstraint = MouseConstraint.create(engine.current, {\r\n      mouse: mouse,\r\n      constraint: {\r\n        angularStiffness: 0,\r\n        render: {\r\n          visible: false,\r\n        },\r\n      },\r\n    });\r\n\r\n    Composite.add(world, mouseConstraint);\r\n\r\n    const stack = Composites.stack(0, 0, 10, 4, 1, 1, (x, y) => {\r\n      return Bodies.circle(x, y, Common.random(30, 30), {\r\n        mass: 10,\r\n        restitution: 0.01,\r\n        friction: 0.01,\r\n        frictionAir: Common.random(0.3, 0.5),\r\n        render: {\r\n          sprite: {\r\n            texture: `./tapioca_${\r\n              Math.floor(Math.random() * (2 - 1 + 1)) + 1\r\n            }.png`,\r\n            //texture: `./tapioca_${11}.png`,\r\n          },\r\n        },\r\n      });\r\n    });\r\n\r\n    World.add(engine.current.world, [\r\n      stack,\r\n      Bodies.rectangle(cw / 2, -10, cw, 20, {\r\n        isStatic: true,\r\n        render: { fillStyle: \"#000000\" },\r\n      }),\r\n      Bodies.rectangle(-10, ch / 2, 20, ch, {\r\n        isStatic: true,\r\n        render: { fillStyle: \"#000000\" },\r\n      }),\r\n      Bodies.rectangle(cw / 2, ch + 10, cw, 20, {\r\n        isStatic: true,\r\n        render: { fillStyle: \"#000000\" },\r\n      }),\r\n      Bodies.rectangle(cw + 10, ch / 2, 20, ch, {\r\n        isStatic: true,\r\n        render: { fillStyle: \"#000000\" },\r\n      }),\r\n    ]);\r\n    Runner.run(engine.current);\r\n\r\n    Render.run(render);\r\n\r\n    return () => {\r\n      Render.stop(render);\r\n      World.clear(engine.current.world);\r\n      Engine.clear(engine.current);\r\n      render.canvas.remove();\r\n      render.canvas = null;\r\n      render.context = null;\r\n      render.textures = {};\r\n      engine.current = null;\r\n    };\r\n  }, [ch, cw, world]);\r\n\r\n  return (\r\n    <div style={{ position: \"relative\" }}>\r\n      {/* <div>x:{accelerationX},y:{accelerationY},z:{accelerationZ}</div> */}\r\n      <div\r\n        className=\"icon-circle\"\r\n        onClick={capture}\r\n        style={{\r\n          position: \"absolute\",\r\n          width: \"50px\",\r\n          height: \"50px\",\r\n          top: \"3px\",\r\n          left: \"3px\",\r\n        }}\r\n      >\r\n        <FontAwesomeIcon icon={faCamera} size={\"2x\"} className=\"icon\" />\r\n      </div>\r\n\r\n      <div\r\n        id=\"target\"\r\n        style={{ backgroundColor: backgroundColor }}\r\n        onTouchStart={handleDown}\r\n        onTouchEnd={handleUp}\r\n        onTouchMove={handleAddCircle}\r\n      >\r\n        {cupImage && (\r\n          <img\r\n            src={cupImage}\r\n            alt=\"cupImage\"\r\n            style={{\r\n              width: \"90%\",\r\n              position: \"absolute\",\r\n              top: \"20%\",\r\n              left: \"0\",\r\n              right: \"0\",\r\n              margin: \"auto\",\r\n            }}\r\n          />\r\n        )}\r\n        <div ref={scene} style={{ width: cw, height: ch }} />\r\n      </div>\r\n      {/* Modal */}\r\n      {imageData && (\r\n        <Modal\r\n          imageData={imageData}\r\n          isModalOpen={isModalOpen}\r\n          setIsModalOpen={setIsModalOpen}\r\n        />\r\n      )}\r\n      {/* Hamburger Menu */}\r\n      <HamburgerMenu\r\n        backgroundColor={backgroundColor}\r\n        setBackgroundColor={setBackgroundColor}\r\n        setCupImage={setCupImage}\r\n        addStraw={addStraw}\r\n        removeStraw={removeStraw}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tapioca;\r\n","import React from \"react\";\r\n\r\nconst QrCode = () => {\r\n  return (\r\n    <>\r\n      <div className=\"qr_wrapper\">\r\n        <div className=\"qr-message\">スマホでQRコードを読んで</div>\r\n        <div className=\"qr-message\">アクセスしてね！！</div>\r\n        <div className=\"qr-code\">\r\n          <img src={\"./sustapi-qr-code.png\"} alt=\"qr-code\" />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default QrCode;\r\n","import React, { useState } from \"react\";\r\nimport Tapioca from \"./Tapioca.js\";\r\nimport QrCode from \"./QrCode.js\";\r\nimport {\r\n  isIOS,\r\n  isAndroid,\r\n  isWinPhone,\r\n  BrowserView,\r\n  MobileView,\r\n} from \"react-device-detect\";\r\n\r\nconst App = () => {\r\n  const [isStart, setIsStart] = useState(false);\r\n  const [accelerationX, setAccelerationX] = useState(0);\r\n  const [accelerationY, setAccelerationY] = useState(0);\r\n\r\n  const deviceMotionRequest = () => {\r\n    if (isIOS) {\r\n      if (DeviceMotionEvent.requestPermission) {\r\n        DeviceMotionEvent.requestPermission()\r\n          .then((permissionState) => {\r\n            if (permissionState === \"granted\") {\r\n              window.addEventListener(\"devicemotion\", (event) => {\r\n                if (!event.accelerationIncludingGravity) {\r\n                  alert(\"event.accelerationIncludingGravity is null\");\r\n                  return;\r\n                }\r\n                // iosで許可\r\n                setAccelerationX(event.accelerationIncludingGravity.x);\r\n                setAccelerationY(event.accelerationIncludingGravity.y);\r\n              });\r\n            } else {\r\n              // iosでキャンセル\r\n              setAccelerationX(0);\r\n              setAccelerationY(-3);\r\n            }\r\n          })\r\n          .catch((e) => {\r\n            alert(e);\r\n          });\r\n      }\r\n    } else if (isAndroid || isWinPhone) {\r\n      window.addEventListener(\"devicemotion\", (event) => {\r\n        if (!event.accelerationIncludingGravity) {\r\n          alert(\"event.accelerationIncludingGravity is null\");\r\n          return;\r\n        }\r\n        // androidはセンサーが逆\r\n        setAccelerationX(event.accelerationIncludingGravity.x * -1);\r\n        setAccelerationY(event.accelerationIncludingGravity.y * -1);\r\n      });\r\n    } else {\r\n      // 加速度センサーがない場合は自然落下\r\n      setAccelerationX(0);\r\n      setAccelerationY(-3);\r\n    }\r\n  };\r\n\r\n  const start = () => {\r\n    deviceMotionRequest();\r\n    setIsStart(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!isStart && (\r\n        <div className=\"top_wrapper\">\r\n          <div className=\"top-logo\">\r\n            <img src={\"./sastapi_top_ttl.png\"} alt=\"logo\" />\r\n          </div>\r\n          <div className=\"top-drink\">\r\n            <img src={\"./sastapi_top_drink.png\"} alt=\"drink\" />\r\n          </div>\r\n          <div className=\"top-start\">\r\n            <img\r\n              src={\"./sastapi_top_btn_start.png\"}\r\n              alt=\"start-button\"\r\n              onClick={start}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {isStart && (\r\n        <>\r\n          <MobileView>\r\n            <Tapioca\r\n              accelerationX={accelerationX}\r\n              accelerationY={accelerationY}\r\n            />\r\n          </MobileView>\r\n          <BrowserView>\r\n            <QrCode />\r\n          </BrowserView>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}