(this["webpackJsonpmatter-js-spike"]=this["webpackJsonpmatter-js-spike"]||[]).push([[0],{11:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var c=n(2),i=n.n(c),r=n(5),a=n.n(r),o=(n(11),n(3)),s=n(1),l=n(6),d=n.n(l),u=n(0),j=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),i=n[0],r=n[1];return Object(u.jsxs)("div",{children:[Object(u.jsxs)("button",{type:"button",className:i?"menu-trigger is-active":"menu-trigger",onClick:function(){r(!i)},children:[Object(u.jsx)("span",{}),Object(u.jsx)("span",{}),Object(u.jsx)("span",{})]}),Object(u.jsxs)("div",{className:i?"menu is-active":"menu",children:[Object(u.jsx)("div",{className:"menu-item",onClick:function(){e.handleAddStraw()},children:"\u30b9\u30c8\u30ed\u30fc"}),Object(u.jsx)("div",{className:"menu-item",onClick:function(){e.setBackgroundColor("#dcac65")},children:"\u30df\u30eb\u30af\u30c6\u30a3\u30fc"}),Object(u.jsx)("div",{className:"menu-item",onClick:function(){e.setBackgroundColor("#E9ED88")},children:"\u62b9\u8336"}),Object(u.jsx)("div",{className:"menu-item",onClick:function(){return e.setCupImage("logo.PNG")},children:"\u30b5\u30b9\u30bf\u30d4"}),Object(u.jsx)("div",{className:"menu-item",onClick:function(){return e.setCupImage("alley.png")},children:"The alley"})]})]})},b=function(e){return Object(u.jsx)(u.Fragment,{children:e.isModalOpen&&Object(u.jsx)("div",{id:"overlay",children:Object(u.jsxs)("div",{id:"content",children:[Object(u.jsx)("div",{children:Object(u.jsx)("a",{href:e.imageData,id:"myTapioca",download:"myTapioca.png",children:"download photo"})}),Object(u.jsx)("div",{children:Object(u.jsx)("a",{href:"https://twitter.com/intent/tweet?text=\u30b5\u30b9\u30c6\u30ca\u30d6\u30eb\u30bf\u30d4\u30aa\u30ab\u3084\u3063\u3066\u307f\u305f\uff01%0D%0A&hashtags=\u30b5\u30b9\u30c6\u30ca\u30d6\u30eb\u30bf\u30d4\u30aa\u30ab&url=https://sasutapi.com",children:"tweet"})}),Object(u.jsx)("img",{src:e.imageData,style:{width:"100%"}}),Object(u.jsx)("input",{type:"button",onClick:function(){e.setIsModalOpen(!1)},value:"close"})]})})})},m=function(e){var t=document.body.clientWidth,n=document.body.clientHeight,i=Object(c.useRef)(),r=Object(c.useRef)(s.Engine.create()),a=r.current.world,l=(Object(c.useRef)(!1),Object(c.useState)("#dcac65")),m=Object(o.a)(l,2),g=m[0],O=m[1],h=Object(c.useState)(!1),p=Object(o.a)(h,2),v=p[0],x=p[1],f=Object(c.useState)("logo.PNG"),y=Object(o.a)(f,2),C=y[0],k=y[1],w=Object(c.useState)(),S=Object(o.a)(w,2),B=S[0],E=S[1];return document.body.style="background: ".concat(g),r.current.gravity.x=e.accelerationX,r.current.gravity.y=-e.accelerationY,Object(c.useEffect)((function(){var e=s.Render.create({element:i.current,engine:r.current,options:{width:t,height:n,wireframes:!1,background:"#transparent"}}),c=s.Mouse.create(e.canvas),o=s.MouseConstraint.create(r.current,{mouse:c,constraint:{angularStiffness:0,render:{visible:!1}}});s.Composite.add(a,o);var l=s.Composites.stack(0,0,10,4,1,1,(function(e,t){return s.Bodies.circle(e,t,s.Common.random(30,30),{mass:10,restitution:.01,friction:.01,frictionAir:s.Common.random(.3,.5),render:{sprite:{texture:"./tapioca_".concat(Math.floor(2*Math.random())+1,".png")}}})}));return s.World.add(r.current.world,[l,s.Bodies.rectangle(t/2,-10,t,20,{isStatic:!0,render:{fillStyle:"#000000"}}),s.Bodies.rectangle(-10,n/2,20,n,{isStatic:!0,render:{fillStyle:"#000000"}}),s.Bodies.rectangle(t/2,n+10,t,20,{isStatic:!0,render:{fillStyle:"#000000"}}),s.Bodies.rectangle(t+10,n/2,20,n,{isStatic:!0,render:{fillStyle:"#000000"}})]),s.Engine.run(r.current),s.Render.run(e),function(){s.Render.stop(e),s.World.clear(r.current.world),s.Engine.clear(r.current),e.canvas.remove(),e.canvas=null,e.context=null,e.textures={}}}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"button",onClick:function(){x(!0);var e=document.getElementById("target");d()(e).then((function(e){var t=e.toDataURL();E(t)}))},value:"save photo"})}),Object(u.jsx)(j,{setBackgroundColor:O,setCupImage:k,handleAddStraw:function(e){var c=s.Bodies.rectangle(t/2,n/2,40,n,{render:{fillStyle:"#FF0000"}}),i=s.Constraint.create({pointA:s.Vector.clone({x:c.position.x,y:c.position.y-n/2*.8}),bodyB:c,pointB:{x:0,y:-n/2*.8},length:0});s.Composite.add(a,[c,i])}}),Object(u.jsxs)("div",{id:"target",style:{backgroundColor:g},children:[Object(u.jsx)("img",{src:C,style:{width:"90%",position:"absolute",top:"20%",left:"0",right:"0",margin:"auto"}}),Object(u.jsx)("div",{ref:i,style:{width:"100%",height:"100%"}})]}),Object(u.jsx)(b,{id:"modal-main",imageData:B,isModalOpen:v,setIsModalOpen:x})]})},g=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(0),a=Object(o.a)(r,2),s=a[0],l=a[1],d=Object(c.useState)(0),j=Object(o.a)(d,2),b=j[0],g=j[1];return Object(u.jsxs)(u.Fragment,{children:[n&&Object(u.jsx)(m,{accelerationX:s,accelerationY:b}),!n&&Object(u.jsxs)("div",{style:{height:"100%"},children:[Object(u.jsx)("img",{src:"./logo.PNG",style:{width:"99%",display:"block",margin:"100px auto "}}),Object(u.jsx)("img",{src:"./start-button.PNG",onClick:function(){DeviceMotionEvent.requestPermission?DeviceMotionEvent.requestPermission().then((function(e){"granted"===e?window.addEventListener("devicemotion",(function(e){e.accelerationIncludingGravity?(l(e.accelerationIncludingGravity.x),g(e.accelerationIncludingGravity.y)):alert("event.accelerationIncludingGravity is null")})):(l(0),g(-3))})).catch((function(e){alert(e)})):(alert("\u3053\u306e\u30c7\u30d0\u30a4\u30b9\u306b\u306f\u52a0\u901f\u5ea6\u30bb\u30f3\u30b5\u30fc\u304c\u642d\u8f09\u3055\u308c\u3066\u304a\u308a\u307e\u305b\u3093"),l(0),g(-3)),i(!0)},style:{width:"50%",position:"absolute",bottom:"10%",left:"0",right:"0",margin:"auto"}})]})]})};a.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(g,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.737a0030.chunk.js.map